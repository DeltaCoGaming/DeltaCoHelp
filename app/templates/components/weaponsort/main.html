<div class="flex justify-center items-center min-h-screen bg-gray-100">
    <div class="container mx-auto max-w-2xl bg-white rounded-xl shadow-lg p-8" data-aos="fade-up" data-aos-duration="1000">
        <h1 class="text-4xl font-bold text-center text-gray-800 mb-8">Weapon Categorizer</h1>
        <form action="/extrablue/weapon-sorter" method="post">
            <input type="text" name="categories" class="w-full p-4 rounded-lg text-gray-800 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-4" placeholder="Enter categories separated by commas (e.g., arifle, optic, bipod)">
            <textarea name="weapon_names" rows="5" class="w-full p-4 rounded-lg text-gray-800 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Enter weapon names separated by commas"></textarea>
            <button type="submit" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-300">
                Categorize Weapons
            </button>
        </form>
        {% if categories %}
            <div class="mt-6">
                {% for category, items in categories.items() %}
                <div class="accordion-section bg-gray-200 p-4 rounded-lg mb-2 cursor-pointer">
                    <h2 onclick="toggleAccordion(this)" class="font-bold text-lg text-gray-800 flex justify-between items-center">
                        Category: {{ category.capitalize() }}
                        <span class="text-xl">&#x25BC;</span>
                    </h2>
                    <ul class="hidden mt-2 pl-4 text-gray-800">
                        {% for item in items %}
                        <li>{{ item }}</li>
                        {% endfor %}
                    </ul>
                </div>
                {% endfor %}
                <button onclick="copyToClipboard()" class="bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-300">
                    Copy All
                </button>
            </div>
        {% endif %}
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/aos@2.3.1/dist/aos.js"></script>
<script>
    AOS.init(); // Initialize AOS animations

    function toggleAccordion(header) {
        const icon = header.querySelector('span');
        const list = header.nextElementSibling;
        list.classList.toggle('hidden');
        if (list.classList.contains('hidden')) {
            icon.innerHTML = '&#x25BC;'; // down arrow
        } else {
            icon.innerHTML = '&#x25B2;'; // up arrow
        }
    }

    function copyToClipboard() {
        const textArea = document.createElement("textarea");
        document.body.appendChild(textArea);
        document.querySelectorAll('.accordion-section ul:not(.hidden) li').forEach(li => {
            textArea.value += li.textContent + '\n';
        });
        textArea.select();
        document.execCommand("copy");
        textArea.remove();
        Swal.fire({
            title: 'Success!',
            text: 'Copied to clipboard!',
            icon: 'success',
            confirmButtonText: 'OK'
        });
    }
</script>
<link href="https://cdn.jsdelivr.net/npm/sweetalert2@10" rel="stylesheet">
